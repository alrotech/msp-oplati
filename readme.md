# mspOplati – платежный модуль для miniShop2.

[Оплати](https://www.o-plati.by/) – система электронных денег для оплаты товаров и услуг на территории Республики Беларусь. Позволяет пополнять кошелек, осуществлять переводы между кошельками (людьми) и оплачивать товары и услуги с помощью QR-кода.

Данный модуль `mspOplati` предоставляет возможность интеграции платежной системы "Оплати" и интернет-магазинов, созданных на базе CMS MODX и модуля магазинна miniShop2. Обратите внимание, что модуль не будет работать с другими решениями для создания интернет-магазинов на базе MODX Revolution. 

## Регистрация аккаунта

Для начала работы с сервисом следует оставить [заявку на сайте](https://www.o-plati.by/business) и следовать дальнейшим инструкциям, предоставленным в письме.

## Установка


Для установки модуля оплаты стоит 

### Настройка при установке

Для быстрого начала работы, если у вас уже имеется номер кассы и пароль для входа, вы можете настроить модуль оплат во время установки. При установке появляется окно, где требуется ввести запрашиваемые данные и продолжить установку.

--картинка--

Если не заполнить форму, пакет успешно установится, а настроить его можно будет позже через системные настройки или в параметрах способа оплаты.

### Требования

Для успешной работы модуля необходимо, чтобы в системе (хостинг, сервер), где работает сайт, были выполнены следующие требования:
- установлен интерпретатор языка PHP версии, не ниже 7.2, рекомендуется PHP 7.4;
- установлена CMS MODX не ниже версии ?
- установлены расширения языка PHP: 
- установлен компонент msPaymentProps последней доступной версии.

## Использование

Основная идея модуля максимально упростить процесс подключения платежной системы Оплати, тем не менее, сделать этот процесс полностью автоматическим не представляется возможным. Далее предоставлены детальные описания компонентов, которые следует использовать для настройки, а так же инструкции, как их настраивать и использовать.  

### Системные настройки

При установке создаются системные настройки, которые используются для детальной настройки модуля оплаты. Ниже приведен их список с детальным описанием каждой.

--таблица настроек--

### Настройки метода оплаты

Для более тонкой настройки видов платежей на сайте можно использовать параметры самого метода оплаты. 


### Снипет oplati

Так как оплата по QR-коду отличается от обычной оплаты картой, когда происходит перенаправление на сайт платежной системы для ввода данных карты, необходимо учитывать некоторые особенности и следовать правилам. 

// Для того, чтобы

#### Параметры снипета

- список параметров в виде таблицы?

#### Механика работы
Наборы параметров?

#### Использование собственных библиотек



## Техническая поддержка

Техническая поддержка осуществляется через личный кабинет маркетплейса [modstore.pro](https://modstore.pro/) и в соответствии с [правилами маркетплейса](https://modstore.pro/info/rules). При покупке пакета предоставляется 1 (один) год бесплатной технической поддержки. По истечении этого срока, в случае необходимости в технической поддержке, вы можете оплатить стоимость пакета, что даст вам очередной год технической поддержки с момента оплаты.

## Авторство и лицензия

Код модуля распространяется по лицензии MIT, тем не менее распространение и продажа готового модуля, в виде собранного пакета для системы управления MODX, запрещается. При использовании частей кода, сохранение лицензии и указание авторства обязательны.

Автор исходного кода модуля и владелец прав на распространение:

- Иван Климчук | [GitHub](https://github.com/alroniks) | [Twitter](https://twitter.com/iklimchuk) | [ivan@klimchuk.com](mailto:ivan@klimchuk.com) | [klimchuk.by](https://klimchuk.by/) | [alroniks.com](https://alroniks.com)
